<h1>{{collection?.name}}</h1>
<form #listForm="ngForm" novalidate (ngSubmit)="createList(listForm.value)">
    <select name="lang" [(ngModel)]="languageId" >
        <option *ngFor="let language of languages" [ngValue]="language.key">{{language.name}}</option>
    </select>
    <input type="text" name="name" placeholder="Name of new list" [(ngModel)]="listName"/>
    <button title="Create" class="fa fa-plus"></button>
</form>
<div *ngIf="currentList" cdkDropList (cdkDropListDropped)="drop($event)" >
    <a routerLink="/{{collectionId}}/{{currentList.id}}" routerLinkActive="active">
        <strong>{{currentList.name}}</strong> {{ currentList.created | showAsDate }}
    </a>
    <button title="Copy" (click)="copy(currentList)" class="fa fa-copy"></button>
    <div class="row" *ngFor="let row of currentList.rows; let i = index">
        <i cdkDrag  cdkDragLockAxis="y" class="fa fa-arrows"></i>
        <input type="checkbox" id="i" name="ossm" [checked]="row.checked" (click)="toggleRow(i)"> 
        <label  for="i">{{row.text}}</label>
        <button title="Remove" class="fa fa-times" (click)="removeRow(i)" [tabindex]="i + 10000"></button>
    </div>
    <button  #addRowButton title="Add row" type="button" class="fa fa-plus" (click)="addRowOnClick(addRowButton, editRow)" [tabindex]="900">Add a row</button><br>
    <textarea class="row" [hidden]="!editing" #editRow (keydown.enter)="addRow(editRow)"></textarea>
</div>

<div *ngIf="lists">
    <ol>
    <li *ngFor="let list of lists">
        <a routerLink="/{{collectionId}}/{{list.id}}" routerLinkActive="active">
            <strong>{{list.name}}</strong> {{ list.created | showAsDate }}
        </a>
        <button title="Copy" (click)="copy(list)" class="fa fa-copy"></button>
        <div class="row" *ngFor="let row of list.rows">
            <button title="Add row to current list" type="button" class="fa fa-angle-double-up" (click)="addRowValue(row.text)"></button>
            {{row.text}}<br>
        </div>
    </li>
</ol>
</div>
<br/>
<button [disabled]="!countlists.hasMore" (click)=readMore()>Old lists</button>
